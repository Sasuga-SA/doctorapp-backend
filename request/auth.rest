### üîê Register doctor
POST {{baseUrlAuth}}/register
Content-Type: application/json

{
  "firstName": "Alejandro",
  "lastName":  "Sanchez",
  "email":     "{{email}}",
  "password":  "{{pwd}}",
  "specialty": "Pediatra",
  "phone":     "1234567",
  "role":      "doctor",
  "organization": "Cl√≠nica Santa Mar√≠a"
}


### ‚úî Verify e-mail  (put here token copy of register)
@verifyToken = d68bfd679b57434307b7a5a94451779d8949b9ae6ae28d2e68fae4e01a5a59ca

GET {{baseUrlAuth}}/verify-email?token={{verifyToken}}


### üîë Login doctor
POST {{baseUrlAuth}}/login
Content-Type: application/json

{
  "email":     "{{email}}",
  "password":  "{{pwd}}"
}

### üë§ Get profile protected
GET {{baseUrlAuth}}/profile
Authorization: Bearer {{token}}
### üïü Forgot password
POST {{baseUrlAuth}}/forgot-password
Content-Type: application/json

{
  "email": "{{email}}"
}

### üîÑ Reset contrase√±a  (copia token de e-mail de reset)
@resetToken = 236250c7958f136e082ee9da3ae3e5abc9b676e129cc97aeb8532cd660ccf645

POST {{baseUrlAuth}}/reset-password
Content-Type: application/json

{
  "token":    "{{resetToken}}",
  "password": "NuevaClaveSegura123"
}

### üìã Obtener permisos del usuario actual
GET {{baseUrlPermissions}}/my-permissions
Authorization: Bearer {{token}}

### ‚úÖ Verificar permiso espec√≠fico - canViewPatients (debe ser true para doctor)
GET {{baseUrlPermissions}}/check/canViewPatients
Authorization: Bearer {{token}}

### ‚ùå Verificar permiso espec√≠fico - canManageSystem (debe ser false para doctor)
GET {{baseUrlPermissions}}/check/canManageSystem
Authorization: Bearer {{token}}

### ‚úÖ Verificar permiso espec√≠fico - canCreateAppointments (debe ser true para doctor)
GET {{baseUrlPermissions}}/check/canCreateAppointments
Authorization: Bearer {{token}}
### ‚úÖ Verificar permiso espec√≠fico - canPrescribeMedication (debe ser true para doctor)
GET {{baseUrlPermissions}}/check/canPrescribeMedication
Authorization: Bearer {{token}}

### üë§ Obtener informaci√≥n completa del usuario con permisos
GET {{baseUrlPermissions}}/user-info
Authorization: Bearer {{token}}

### üö´ Obtener todos los roles (debe fallar - solo para admin)
GET {{baseUrlPermissions}}/all-roles
Authorization: Bearer {{token}}

### üîê ========================================
### üîê PRUEBAS DE ERRORES Y CASOS L√çMITE
### üîê ========================================

### üö´ Probar endpoint sin token (debe fallar con 401)
GET {{baseUrlPermissions}}/my-permissions

### üö´ Probar endpoint con token inv√°lido (debe fallar con 403)
GET {{baseUrlPermissions}}/my-permissions
Authorization: Bearer token_invalido

### üö´ Verificar permiso inexistente (debe devolver false)
GET {{baseUrlPermissions}}/check/permiso_inexistente
Authorization: Bearer {{token}}
### üîê ========================================
### üîê PRUEBAS DE PERMISOS ESPEC√çFICOS DEL DOCTOR
### üîê ========================================

### ‚úÖ Verificar canViewProfile (debe ser true)
GET {{baseUrlPermissions}}/check/canViewProfile
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjM0ODg0ZTI4LWQ4M2MtNDcyYi1hOWFhLTA5Nzk5ODRiOWU3MSIsInJvbGUiOiJkb2N0b3IiLCJpYXQiOjE3NTExNzIwMDIsImV4cCI6MTc1MTM0NDgwMn0.po0ED5wpaJ8Df2fHpne_X92rfZHJ26izxJGVF3GdXHo

### ‚úÖ Verificar canUpdateProfile (debe ser true)
GET {{baseUrlPermissions}}/check/canUpdateProfile
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjM0ODg0ZTI4LWQ4M2MtNDcyYi1hOWFhLTA5Nzk5ODRiOWU3MSIsInJvbGUiOiJkb2N0b3IiLCJpYXQiOjE3NTExNzIwMDIsImV4cCI6MTc1MTM0NDgwMn0.po0ED5wpaJ8Df2fHpne_X92rfZHJ26izxJGVF3GdXHo

### ‚úÖ Verificar canViewAppointments (debe ser true)
GET {{baseUrlPermissions}}/check/canViewAppointments
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjM0ODg0ZTI4LWQ4M2MtNDcyYi1hOWFhLTA5Nzk5ODRiOWU3MSIsInJvbGUiOiJkb2N0b3IiLCJpYXQiOjE3NTExNzIwMDIsImV4cCI6MTc1MTM0NDgwMn0.po0ED5wpaJ8Df2fHpne_X92rfZHJ26izxJGVF3GdXHo

### ‚úÖ Verificar canUpdateAppointments (debe ser true)
GET {{baseUrlPermissions}}/check/canUpdateAppointments
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjM0ODg0ZTI4LWQ4M2MtNDcyYi1hOWFhLTA5Nzk5ODRiOWU3MSIsInJvbGUiOiJkb2N0b3IiLCJpYXQiOjE3NTExNzIwMDIsImV4cCI6MTc1MTM0NDgwMn0.po0ED5wpaJ8Df2fHpne_X92rfZHJ26izxJGVF3GdXHo

### ‚úÖ Verificar canDeleteAppointments (debe ser true)
GET {{baseUrlPermissions}}/check/canDeleteAppointments
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjM0ODg0ZTI4LWQ4M2MtNDcyYi1hOWFhLTA5Nzk5ODRiOWU3MSIsInJvbGUiOiJkb2N0b3IiLCJpYXQiOjE3NTExNzIwMDIsImV4cCI6MTc1MTM0NDgwMn0.po0ED5wpaJ8Df2fHpne_X92rfZHJ26izxJGVF3GdXHo

### ‚úÖ Verificar canViewMedicalRecords (debe ser true)
GET {{baseUrlPermissions}}/check/canViewMedicalRecords
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjM0ODg0ZTI4LWQ4M2MtNDcyYi1hOWFhLTA5Nzk5ODRiOWU3MSIsInJvbGUiOiJkb2N0b3IiLCJpYXQiOjE3NTExNzIwMDIsImV4cCI6MTc1MTM0NDgwMn0.po0ED5wpaJ8Df2fHpne_X92rfZHJ26izxJGVF3GdXHo

### ‚úÖ Verificar canUpdateMedicalRecords (debe ser true)
GET {{baseUrlPermissions}}/check/canUpdateMedicalRecords
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjM0ODg0ZTI4LWQ4M2MtNDcyYi1hOWFhLTA5Nzk5ODRiOWU3MSIsInJvbGUiOiJkb2N0b3IiLCJpYXQiOjE3NTExNzIwMDIsImV4cCI6MTc1MTM0NDgwMn0.po0ED5wpaJ8Df2fHpne_X92rfZHJ26izxJGVF3GdXHo

### ‚úÖ Verificar canViewSchedule (debe ser true)
GET {{baseUrlPermissions}}/check/canViewSchedule
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjM0ODg0ZTI4LWQ4M2MtNDcyYi1hOWFhLTA5Nzk5ODRiOWU3MSIsInJvbGUiOiJkb2N0b3IiLCJpYXQiOjE3NTExNzIwMDIsImV4cCI6MTc1MTM0NDgwMn0.po0ED5wpaJ8Df2fHpne_X92rfZHJ26izxJGVF3GdXHo

### ‚úÖ Verificar canUpdateSchedule (debe ser true)
GET {{baseUrlPermissions}}/check/canUpdateSchedule
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjM0ODg0ZTI4LWQ4M2MtNDcyYi1hOWFhLTA5Nzk5ODRiOWU3MSIsInJvbGUiOiJkb2N0b3IiLCJpYXQiOjE3NTExNzIwMDIsImV4cCI6MTc1MTM0NDgwMn0.po0ED5wpaJ8Df2fHpne_X92rfZHJ26izxJGVF3GdXHo

### ‚úÖ Verificar canViewReports (debe ser true)
GET {{baseUrlPermissions}}/check/canViewReports
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjM0ODg0ZTI4LWQ4M2MtNDcyYi1hOWFhLTA5Nzk5ODRiOWU3MSIsInJvbGUiOiJkb2N0b3IiLCJpYXQiOjE3NTExNzIwMDIsImV4cCI6MTc1MTM0NDgwMn0.po0ED5wpaJ8Df2fHpne_X92rfZHJ26izxJGVF3GdXHo

### ‚úÖ Verificar canExportData (debe ser true)
GET {{baseUrlPermissions}}/check/canExportData
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjM0ODg0ZTI4LWQ4M2MtNDcyYi1hOWFhLTA5Nzk5ODRiOWU3MSIsInJvbGUiOiJkb2N0b3IiLCJpYXQiOjE3NTExNzIwMDIsImV4cCI6MTc1MTM0NDgwMn0.po0ED5wpaJ8Df2fHpne_X92rfZHJ26izxJGVF3GdXHo

### üîê ========================================
### üîê PRUEBAS DE PERMISOS NO DISPONIBLES PARA DOCTOR
### üîê ========================================

### ‚ùå Verificar canViewAllUsers (debe ser false)
GET {{baseUrlPermissions}}/check/canViewAllUsers
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjM0ODg0ZTI4LWQ4M2MtNDcyYi1hOWFhLTA5Nzk5ODRiOWU3MSIsInJvbGUiOiJkb2N0b3IiLCJpYXQiOjE3NTExNzIwMDIsImV4cCI6MTc1MTM0NDgwMn0.po0ED5wpaJ8Df2fHpne_X92rfZHJ26izxJGVF3GdXHo

### ‚ùå Verificar canCreateUsers (debe ser false)
GET {{baseUrlPermissions}}/check/canCreateUsers
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjM0ODg0ZTI4LWQ4M2MtNDcyYi1hOWFhLTA5Nzk5ODRiOWU3MSIsInJvbGUiOiJkb2N0b3IiLCJpYXQiOjE3NTExNzIwMDIsImV4cCI6MTc1MTM0NDgwMn0.po0ED5wpaJ8Df2fHpne_X92rfZHJ26izxJGVF3GdXHo

### ‚ùå Verificar canUpdateUsers (debe ser false)
GET {{baseUrlPermissions}}/check/canUpdateUsers
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjM0ODg0ZTI4LWQ4M2MtNDcyYi1hOWFhLTA5Nzk5ODRiOWU3MSIsInJvbGUiOiJkb2N0b3IiLCJpYXQiOjE3NTExNzIwMDIsImV4cCI6MTc1MTM0NDgwMn0.po0ED5wpaJ8Df2fHpne_X92rfZHJ26izxJGVF3GdXHo

### ‚ùå Verificar canDeleteUsers (debe ser false)
GET {{baseUrlPermissions}}/check/canDeleteUsers
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjM0ODg0ZTI4LWQ4M2MtNDcyYi1hOWFhLTA5Nzk5ODRiOWU3MSIsInJvbGUiOiJkb2N0b3IiLCJpYXQiOjE3NTExNzIwMDIsImV4cCI6MTc1MTM0NDgwMn0.po0ED5wpaJ8Df2fHpne_X92rfZHJ26izxJGVF3GdXHo
